<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lab Forms</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'blogging_platform/css/base.css' %}">
</head>
<body>
    <div class="container">
        {% block content %}
            <div class="div" id="front">
            <div class="login">
                <div class="circle"></div>
                <h2 id="login-h2"> LOGIN </h2>
                <label class="input">
                    Email
                    <input id="frontEmail" class="in" type="email">
                </label>
                <div id="password">
                    <label class="input">
                        <input id="frontPassword" class="in" type="password">
                    </label>
                </div>

                <div class="for-btn">
                    <button class="btn"> SUBMIT </button>
                </div>
            </div>
            <div class="for-txt">
                Not have an account?
                <div class="decoration" onclick="Rotate()"> Sign up here </div>
            </div>
        </div>
        {% endblock %}



    </div>
</body>
    <script>
        let user = "";

        let front = document.getElementById("front"), back = document.getElementById("back");

        let rotate =
            {
                'transform': 'rotateY(180deg)'
            }

        let reset =
            {
                'transform': 'rotateY(0deg)'
            }


        const Rotate = () =>
        {
            console.log('ASDOFIUPOQRE')
            Object.assign(front.style, rotate);
            Object.assign(back.style, reset);
        }

        const Reset = () =>
        {
            Object.assign(front.style, reset);
            Object.assign(back.style, rotate);
        }

        const backSubmit = () =>
        {
            let name = document.getElementById("backName").value, surname = document.getElementById("backSurname").value, email = document.getElementById("backEmail").value, password = document.getElementById("backPassword").value, confirm = document.getElementById("backConfirm").value;

            let mails = ['@gmail.com', '@mail.ru', '@stu.sdu.edu.kz'];
            let e = false;
            for (let x of mails) e |= email.endsWith(x);

            let p = password === confirm;

            if (!e)
            {
                alert(`Your email is wrong. It should end with one of the ${mails.join(' ')} Please write your email.`);
            }

            if (!p)
            {
                alert("Your confirmation password doesn't match. Please try again.");
            }

            if (e && p) start();
        }

        const start = (name) =>
        {
            let arr = document.getElementsByClassName("in");
            for (let x of arr) x.value = '';

            alert(`${name}, you're logged in!`);
        }
    </script>
</html>
